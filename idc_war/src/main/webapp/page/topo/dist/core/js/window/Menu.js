define([],function(){function i(i){this.body=$("<ul "+(i?"name="+i:"")+" class='dropdown-menu' role='menu' >"),this.item=[]}return i.prototype={setTrigger:function(i,e){function t(e){n.target=i.prop.mousemove.target,n.x=i.prop.mousemove.x,n.y=i.prop.mousemove.y,r(n.item,n.target),n.body.css({left:e.pageX-50,top:e.pageY-20}).show()}function r(i,e){$.each(i,function(i,t){t.filter&&"item"==t.type?t.filter(e)?(t.body.show(),t.divider?t.divider.show():""):(t.body.hide(),t.divider?t.divider.hide():""):"subMenu"==t.type&&(t.filter&&(t.filter(e)?(t.includer.show(),t.divider?t.divider.show():""):(t.includer.hide(),t.divider?t.divider.hide():"")),r(t.body.item,e))})}var n=this,o=e||{},d=o.filter,s=o.listener||i,a="undefined"!=typeof o.buttonKey?o.buttonKey:2,u=o.action||"mouseup";return this.trigger?($(this.trigger.listener).off(this.trigger.action,this.trigger.fn),this.trigger.listener=s,this.trigger.buttonKey=a,this.trigger.action=u,this.trigger.filter=d,void $(this.trigger.listener).on(this.trigger.action,this.trigger.fn)):(this.trigger={listener:s,action:u,buttonKey:a,filter:d,fn:function(i){d?d(i)&&t(i):i.button==n.trigger.buttonKey?t(i):n.trigger.buttonKey==-1&&t(i)}},$("body").append(this.body),$(this.trigger.listener).on(this.trigger.action,this.trigger.fn),void this.body.on("mouseleave mouseup click",function(i){i.stopPropagation(),n.body.hide()}))},addItem:function(i){var e,t=i||{},r=t.name||"NoName",n=t.icon||"",o=t.color||"bluelight";t.divide&&(e=$("<li class='divider'>"),this.body.append(e));var d=$("<li><div class='buttonSquare "+o+"'><i class='"+n+"'></i><span>"+r+"</span></div></li>");d.click(t.handler),this.body.append(d),this.item.push({body:d,type:"item",name:r,divider:e,filter:t.filter})},addSubMenu:function(e){var t,r=e||{},n=r.name||"NoName",o=r.icon||"fa fa-navicon",d=r.color||"bluelight",s=new i,a=$("<li class='dropdown-submenu'><div class='buttonSquare "+d+"'><i class='"+o+"'></i><span>"+n+"</span></div></li>");return r.divide&&(t=$("<li class='divider'>"),this.body.append(t)),this.body.append(a),a.append(s.body),this.item.push({body:s,type:"subMenu",name:n,divider:t,includer:a,filter:r.filter}),s},removeItem:function(){}},i});
//# sourceMappingURL=Menu.js.map